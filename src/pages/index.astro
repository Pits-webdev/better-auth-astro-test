---
import Layout from "../layouts/Layout.astro";

import { auth } from "../lib/auth";

const session = await auth.api.getSession({
	headers: Astro.request.headers,
});
---

<Layout title="Welcome to Astro.">
	<main>
		<h1 style="text-align: center;">Authentication</h1>
		<h2 style="text-align: center;">BETTER-AUTH</h2>
		<p style="text-align: center; font-size: 18px;">
			Astro js, Drizzle, Postgres
		</p>

		<p style="text-align: center;">User:{session?.user.name}</p>
	</main>
</Layout>

<style>
	main {
		margin-top: 100px;
		display: flex;
		flex-direction: column;
		gap: 10px;
	}
</style>
